---
import { getArticles } from '../../../lib/api';
import Article from '../../../components/Article.astro';
import Layout from '../../../layouts/Layout.astro';

export async function getStaticPaths({ paginate }: any) {
  const data = await getArticles();
  return paginate(data, { pageSize: 4 });
}
const { page } = Astro.props;
---

<Layout>
  <article class="prose lg:prose-xl mx-auto">
    <h1>Articles archive</h1>
    <div>
      <ul>
        {
          page.data.map((post: any) => (
            <li>
              <Article post={post} />
            </li>
          ))
        }
      </ul>
    </div>

    {page.url.prev && <a href={page.url.prev}>Previous page</a>}
    {page.url.next && <a href={page.url.next}>Next page</a>}
  </article>
</Layout>
